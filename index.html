<!DOCTYPE html>
<html lang="it">

<head>
  <meta charset="utf-8">
  <title>Vesper: Missione Apep</title>
  <base href="/">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <script src="https://cdn.tailwindcss.com"></script>
  <link
    href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Orbitron:wght@400;700;900&display=swap"
    rel="stylesheet">
  <style>
    body {
      background-color: #000;
      color: #e5e7eb;
      font-family: 'JetBrains Mono', monospace;
    }

    .scanline {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100px;
      background: linear-gradient(to bottom, rgba(255, 255, 255, 0), rgba(255, 255, 255, 0.02) 50%, rgba(255, 255, 255, 0));
      animation: scanline 8s linear infinite;
      pointer-events: none;
      z-index: 50;
    }

    @keyframes scanline {
      0% {
        top: -100px;
      }

      100% {
        top: 100vh;
      }
    }

    .crt-flicker {
      animation: flicker 0.15s infinite;
    }

    @keyframes flicker {
      0% {
        opacity: 0.98;
      }

      50% {
        opacity: 1;
      }

      100% {
        opacity: 0.99;
      }
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #0f172a;
    }

    ::-webkit-scrollbar-thumb {
      background: #334155;
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #475569;
    }

    /* Global Animations */
    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    .animate-fadeIn {
      animation: fadeIn 1.5s ease-in-out forwards;
    }

    /* Orientation Lock Overlay */
    #portrait-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: #000;
      z-index: 9999;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: #ffb000;
      text-align: center;
      padding: 20px;
      font-family: 'Orbitron', sans-serif;
    }

    .rotate-icon {
      width: 80px;
      height: 80px;
      margin-bottom: 20px;
      animation: rotate-hint 2s ease-in-out infinite;
    }

    @keyframes rotate-hint {
      0% {
        transform: rotate(0deg);
      }

      25% {
        transform: rotate(90deg);
      }

      75% {
        transform: rotate(90deg);
      }

      100% {
        transform: rotate(0deg);
      }
    }

    @media (orientation: portrait) {
      #portrait-overlay {
        display: flex;
      }
    }

    /* 16:9 Game Container */
    .game-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 100vw;
      height: 100vh;
      background: #111;
    }

    .game-container {
      position: relative;
      aspect-ratio: 16 / 9;
      width: min(100vw, 177.78vh);
      height: min(100vh, 56.25vw);
      background: #000;
      overflow: hidden;
      box-shadow: 0 0 50px rgba(0, 0, 0, 1);
    }
  </style>
  <script type="importmap">
{
  "imports": {
    "rxjs": "https://esm.sh/rxjs@^7.8.2?conditions=es2015",
    "rxjs/operators": "https://esm.sh/rxjs@^7.8.2/operators?conditions=es2015",
    "rxjs/ajax": "https://esm.sh/rxjs@^7.8.2/ajax?conditions=es2015",
    "rxjs/webSocket": "https://esm.sh/rxjs@^7.8.2/webSocket?conditions=es2015",
    "rxjs/testing": "https://esm.sh/rxjs@^7.8.2/testing?conditions=es2015",
    "rxjs/fetch": "https://esm.sh/rxjs@^7.8.2/fetch?conditions=es2015",
    "@google/genai": "https://esm.sh/@google/genai@^1.38.0?external=rxjs",
    "@angular/platform-browser": "https://esm.sh/@angular/platform-browser@^21.1.1?external=rxjs",
    "@angular/compiler": "https://esm.sh/@angular/compiler@^21.1.1?external=rxjs",
    "@angular/forms": "https://esm.sh/@angular/forms@^21.1.1?external=rxjs",
    "@angular/core": "https://esm.sh/@angular/core@^21.1.1?external=rxjs",
    "@angular/common": "https://esm.sh/@angular/common@^21.1.1?external=rxjs"
  }
}
</script>
</head>

<body class="overflow-hidden h-screen w-screen bg-[#111]">
  <!-- Orientation Lock Overlay -->
  <div id="portrait-overlay">
    <svg class="rotate-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M1 4v6h6M23 20v-6h-6" />
      <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15" />
    </svg>
    <h2 class="text-2xl font-black tracking-tighter uppercase mb-2">Rotazione Richiesta</h2>
    <p class="text-amber-500/70 text-sm uppercase tracking-widest">Gira lo schermo per giocare</p>
  </div>

  <div class="scanline"></div>

  <div class="game-wrapper">
    <div class="game-container">
      <app-root></app-root>
    </div>
  </div>
</body>

</html>